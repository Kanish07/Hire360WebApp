<app-navbar [items]="items"></app-navbar>
<div>
    <br>
    <br>
    <div class="d-flex justify-content-center align-self-center top width">
        <div class="surface-card p-4 shadow-2 border-round w-full lg:w-6">
            <div class="text-center mb-5">
                <div class="text-900 text-3xl font-medium mb-3 text-color">Candidate Forgot Password</div>
            </div>

            <div>
                <form [formGroup]="candidateForgotPasswordInForm">
                    <label for="email1" class="block text-900 font-medium mb-2">Email</label>
                    <input formControlName="email" type="email" pInputText placeholder="Enter Your Email"
                        [ngClass]="{ 'is-invalid': submitted && h['email'].errors}"
                        class="form-control w-full mb-3 input">
                    <div *ngIf="h['email'].touched && h['email'].errors" class="text-danger">
                        <div *ngIf="h['email'].errors['required']">Email is required</div>
                    </div>
                    <button label="Send OTP" pButton pRipple [disabled]="!candidateForgotPasswordInForm.valid"
                        (click)="showDialog(candidateForgotPasswordInForm.value)" class="p-button-raised p-button-text w-full color p-button-plain">
                        <div *ngIf="!isLoading;else loader">
                        </div>
                        <ng-template #loader>
                            <div class="spinner-border text-light" role="status">
                            </div>
                        </ng-template>
                    </button>
                    <p-dialog header="New Password Entry" [(visible)]="display" [breakpoints]="{'960px': '75vw'}"
                        [style]="{width: '50vw'}" [draggable]="false" [resizable]="false" [modal]="true"
                        class="New Password">
                        <form [formGroup]="candidateVerifyForm">
                            <label for="email1" class="block text-900 font-medium mb-2">Email</label>
                            <input formControlName="email" type="email" pInputText placeholder="Enter Your Email"
                                [ngClass]="{ 'is-invalid': submitted && c['email'].errors}"
                                class="form-control w-full mb-3 input">
                            <div *ngIf="c['email'].touched && c['email'].errors" class="text-danger">
                                <div *ngIf="c['email'].errors['required']">Email is required</div>
                            </div>
                            <br>
                            <label for="password1" class="block text-900 font-medium mb-2">New Password</label>
                            <input type="password" formControlName="password"
                                [ngClass]="{ 'is-invalid': submitted && c['password'].errors }"
                                placeholder="Enter Your New Password" pInputText class="w-full mb-3 input form-control">
                            <div *ngIf="c['password'].touched && c['password'].errors" class="text-danger">
                                <div *ngIf="c['password'].errors['required']">New Password is required</div>
                                <div *ngIf="c['password'].errors['minlength']">
                                    Password must be at least 6 characters
                                </div>
                            </div>
                            <br>
                            <label for="otp" class="block text-900 font-medium mb-2">OTP</label>
                            <input type="text" formControlName="otp"
                            [ngClass]="{ 'is-invalid': submitted && c['otp'].errors }"
                            placeholder="Enter Your OTP" pInputText class="w-full mb-3 input form-control">
                            <div *ngIf="c['otp'].touched && c['otp'].errors" class="text-danger">
                                <div *ngIf="c['otp'].errors['required']">OTP is required</div>
                                <div *ngIf="c['otp'].errors['minlength']">
                                    OTP must be at least 4 characters
                                </div>
                                <div *ngIf="c['otp'].errors['maxlength']">
                                    OTP must be at most 4 characters
                                </div>
                            </div>
                            <button pButton pRipple label="Submit" [disabled]="!candidateVerifyForm.valid"
                            (click)="onSubmit()"
                            class="p-button-raised p-button-text w-full color p-button-plain newpost">
                            <div *ngIf="!isLoading;else loader">
                            </div>
                            <ng-template #loader>
                                <div class="spinner-border text-light" role="status">
                                </div>
                            </ng-template>
                        </button>
                        </form>
                    </p-dialog>
                </form>
            </div>
        </div>
    </div>
</div>
<p-toast [breakpoints]="{'920px': {width: '100%', right: '0', left: '0'}}"></p-toast>