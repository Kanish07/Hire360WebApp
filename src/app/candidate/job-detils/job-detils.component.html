<app-navbar [items]="items"></app-navbar>
<div *ngIf="!isLoading ;else componentloader">
    <br><br>
    <div class="container">
        <div class="row">
            <div class="col-4">
                <h3>About the Job in Detail</h3>
            </div>
            <div class="col-4">
            </div>
            <div class="col-4" *ngIf="!jobAlreadyApplied;else alreadyApplied">
                <button pButton class="p-button-raised p-button-text color p-button-plain" (click)="ApplyJob()"
                    style="float: right;">Apply</button>
            </div>
            <ng-template #alreadyApplied>
                <div class="col-4">
                    <button pButton class="p-button-raised p-button-text color p-button-plain" [disabled]="true"
                        style="float: right;">Already Applied</button>
                </div>
            </ng-template>
        </div>
        <div class="card mb-4"
            style="box-shadow: rgba(136, 165, 191, 0.48) 6px 2px 16px 0px, rgba(255, 255, 255, 0.8) -6px -2px 16px 0px;">
            <div class="card-body">
                <div class="row">
                    <div class="col-md-12">
                        <div>{{ jobDetail?.jobTitle }}</div>
                        <div style="color: #00C293; font-size: 15px;">{{ jobDetail?.hr?.companyName }}</div>
                        <br>
                        <div><i class="pi pi-map-marker"></i> Job Location: {{ jobDetail?.jobCity }}</div>
                        <br>
                        <div><i class="pi pi-money-bill"></i> CTC: {{ jobDetail?.package }}</div>
                        <br>
                        <div>Openings: {{ jobDetail?.noOfVacancy }}</div>
                        <br>
                        <h4>Job Description</h4>
                        <div style="text-align: justify;">{{jobDetail?.jobDescription}}</div>
                        <hr>
                        <div class="row">
                            <div class="col-4" style="float: left; font-size: 13px;">Posted on: {{ jobDetail?.createdAt
                                | date }}</div>
                            <div class="col-4" style="float: left; font-size: 13px;">Total Applications: {{
                                totalApplications }}</div>
                            <div class="col-4" style="float: right; font-size: 13px;">Job Id: {{ jobDetail?.jobId }}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Loading Screen -->
<ng-template #componentloader>
    <div class="container" style="margin-top: 30vh;">
        <div class="row">
            <div class="col-4">
            </div>
            <div class="col-4">
                <h2 style="text-align: center; color: #00c293;">HIRE360</h2>
                <p-progressBar mode="indeterminate" [style]="{'height': '16px'}"></p-progressBar>
            </div>
            <div class="col-4">
            </div>
        </div>
    </div>
</ng-template>